:root{
  --bg:#ffffff;
  --card:#f4f6f8;
  --accent:#0b69ff;
  --text:#111;
  --muted:#666;
  --tile-size:32px; /* base for 300x250; script will compute scaling */
  --cols: 6; /* number of columns */
  --rows: 4; /* number of rows */
  --gap:8px;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{
    box-sizing:border-box
}
body{
    height:100%;
    margin:0;
    background:var(--bg);
    color:var(--text)
}

.frame{
    width:100%;
    height:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:6px
}

/* Ad container */
.ad{
    width:100vw;
    height:100vh;
    display:flex;
    flex-direction:column;
    gap:8px;
    overflow:hidden;
    align-items: center;
    justify-content: center;
}

.ad-header{
    display:flex;
    justify-content:space-between;
    align-items:center;padding:6px; 
    flex-direction: column; 
    align-items: center; 
    padding: 10px;
}

.title{
    font-weight:700;
    font-size:30px;
    margin-bottom: 8px;
}

.stats{
    font-size:20px;
    color:var(--muted);
    display:flex;gap:10px;
    margin-top: 20px;
    justify-content: center;
    align-items: center;
}

/* Game area will hold grid */
.game-area{
    flex:1;
    display:grid;
    place-items:center;
    padding:6px;
}

/* Grid container created by JS - style of tiles */
.grid{
    display:grid;
    gap:var(--gap);
    justify-content:center;
    align-content:center;
    touch-action:manipulation;
    grid-template-columns: repeat(auto-fit, repeat(100px, 1fr)); grid-template-rows: 1fr; padding: 10px;
}

/* Tile styles */
.tile{
  width:var(--tile-size);
  height:var(--tile-size);
  width: calc(100vw / var(--cols) - var(--gap));
  height: calc(100vh / var(--rows) - var(--gap));
  perspective:1000px;
  position:relative;
}
.tile button{
  all:unset;
  width:100%;
  height:100%;
  cursor:pointer;
  display:block;
  position:relative;
  border-radius:8px;
  transform-style:preserve-3d;
  transition:transform 350ms cubic-bezier(.2,.9,.2,1);
  box-shadow:0 2px 6px rgba(0,0,0,.12);
  outline: none;
}
.tile button:focus{
    box-shadow:0 0 0 3px rgba(11,105,255,.18);
}
.scene{
    position:absolute;
    inset:0;
}

/* faces */
.face{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:8px;
  font-size:20px;
  font-weight:700;
  user-select:none;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}
.face.back{
    background:linear-gradient(180deg,#16327a,#073591);
    color:var(--muted);
}
.face.front{
    background:var(--card);
    transform:rotateY(180deg);
    font-size:18px;
    color:var(--text);
}

/* flipped state */
.tile.flipped button{
    transform:rotateY(180deg);
}

/* matched */
.tile.matched button{
    transform:rotateY(180deg);
    box-shadow:0 6px 14px rgba(11,105,255,.12);
}
.tile.matched .face.front{
    animation:matchPulse 50ms ease-out;
    background: rgb(86, 216, 74);
    transition: background 0.3s ease, color 0.3s ease
}

@keyframes matchPulse{
  0%{transform:scale(1)}
  50%{transform:scale(1.05)}
  100%{transform:scale(1)}
}

/* overlay */
.overlay{
    position:fixed;
    inset:0;
    display:flex;
    align-items:center;
    justify-content:center;
    background:rgba(0,0,0,.45);
}

.overlay.hidden{
    display:none;
}
.overlay-card{
    background:white;
    padding:16px;
    border-radius:8px;
    max-width:90%;
    text-align:center;
}
.overlay-actions{
    display:flex;
    gap:8px;
    justify-content:center;
    margin-top:12px;
}

/* buttons */
.btn{
    padding:8px 12px;
    border-radius:6px;
    border:0;
    font-weight:700;
    cursor:pointer;
}
.btn.primary{
    background:var(--accent);
    color:#fff;
}

.btn.secondary{
    background:#eef2ff;
    color:var(--text);
}

/* small screen adjustments */
@media (max-width:360px){
  :root{--tile-size:56px};
}

/* Preloader styles - add this entire section */
.preloader {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--bg);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
    transition: opacity 0.3s ease;
}

.preloader[aria-hidden="true"] {
    opacity: 0;
    pointer-events: none;
}

.loader {
    font-size: 60px;
    color: var(--accent);
    font-weight: 500;
    animation: pulse 1.5s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}